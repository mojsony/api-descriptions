swagger: "2.0"
x-asee-visibility: internal
info:
  version: beta
  title: Order API
  description: |
    Customer order API enables you to initiate, track, query and execute self-care orders. You can grant and revoke mandates to self or others, manage communication preferences like notifications, alerts and contacts and manage channels or cards.  All orders are treated like work items and they go through a series of steps until executed.  The time to complete these steps depends on the type of the customer order.
host: bankapi.net
basePath: /beta/order
schemes:
  - https
  - http
consumes:
  - application/json
produces:
  - application/json
tags:
  - name: Orders
    description: Working with customer orders
  -
    name: Additional card issuances
    description: Working with additional card issuance requests
  -
    name: Card blockades
    description: Working with card blockade requests
  -
    name: Card deblockades
    description: Working with card deblockade requests
  -
    name: Card activations
    description: Working with card activation requests
  -
    name: Card terminations
    description: Working with card termination requests
  -
    name: Card replacements
    description: Working with card replacement requests
  -
    name: Customer requests
    description: Working with customer requests
  -
    name: Mandate assignments
    description: Working with mandate assignment requests
  -
    name: Standing orders
    description: Working with standing orders
  -
    name: Account terminations
    description: Working with account termination requests
  -
    name: Current account terminations
    description: Working with current account termination requests
  -
    name: Bundled account terminations
    description: Working with bundled account termination requests
  -
    name: Deposit account terminations
    description: Working with deposit account termination requests
  -
    name: Credit facility terminations
    description: Working with credit facility termination requests
  -
    name: Loan terminations
    description: Working with loan termination requests
  -
    name: Deposit payouts
    description: Working with deposit payouts requests
  -
    name: Arrangement amendments
    description: Working with account amendment requests
  -
    name: Classifications
    description: Working with classifications

paths:

  /me/orders:
    get:
      summary: List self-care orders for authenticated customer
      tags:
        - Orders
      x-asee-tags:
        - Shapeable
        - Sortable
        - Pageable
      operationId: Orders_GetMyList
      parameters:
        - $ref: "#/parameters/statuses-param"
        - $ref: '#/parameters/kinds-param'
        - $ref: "#/parameters/page-param"
        - $ref: "#/parameters/page-size-param"
        - $ref: "#/parameters/sort-by-param"
        - $ref: "#/parameters/sort-order-param"
        - $ref: "#/parameters/trim-param"
        - $ref: "#/parameters/include-param"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/order-list'
        default:
          $ref: '#/responses/default-error-response'

  /orders:
    get:
      summary: List self-care orders for customer
      tags:
        - Orders
      x-asee-tags:
        - Shapeable
        - Sortable
        - Pageable
      operationId: Orders_GetList
      parameters:
        - $ref: "#/parameters/statuses-param"
        - $ref: '#/parameters/kinds-param'
        - $ref: "#/parameters/customer-number-param"
        - $ref: "#/parameters/page-param"
        - $ref: "#/parameters/page-size-param"
        - $ref: "#/parameters/sort-by-param"
        - $ref: "#/parameters/sort-order-param"
        - $ref: "#/parameters/trim-param"
        - $ref: "#/parameters/include-param"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/order-list'
        default:
          $ref: '#/responses/default-error-response'

  /orders/{order-number}:
    get:
      summary: Gets details of specific self-care order
      tags:
        - Orders
      x-asee-tags:
        - Shapeable
      operationId: Orders_Get
      parameters:
        - $ref: "#/parameters/order-number-param"
        - $ref: "#/parameters/trim-param"
        - $ref: "#/parameters/include-param"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/order'
        default:
          $ref: '#/responses/default-error-response'

  /orders/{order-number}/attachments:
    put:
      summary: Attach documents to order
      tags:
        - Orders
      operationId: Orders_AttachDocuments
      parameters:
        - $ref: '#/parameters/order-number-param'
        - name: cmd
          description: Comand with details of attached documents
          in: body
          schema:
            $ref: '#/definitions/attach-documents-command'
      responses:
        '204':
          description: No content
        default:
          $ref: '#/responses/default-error-response'
        '400':
          description: |
            Your request was well not well constructed. Look into validation error in response for more details.
          schema:
            $ref: '#/definitions/validation-problem'
        '440':
          description: |
            Your request was well constructed but it could not be processed. Consider the following possible problems and look into response for more details:

              - [product-not-valid](offer-problems.html)
              - [deposit-account-opening-maxnumber](offer-problems.html)

  /orders/{order-number}/cancel:
    post:
      summary: Cancel self-care order
      tags:
        - Orders
      operationId: Orders_Cancel
      parameters:
        - $ref: '#/parameters/order-number-param'
        - name: cmd
          description: Comand with details of cancelation
          in: body
          schema:
            $ref: '#/definitions/cancel-order-command'
      responses:
        '204':
          description: No content
        '440':
          description: |
            Your request was well constructed but it does not comply with business policy. Consider the following possible problems and look into response for more details:

              - [order-not-cancellable]()
        default:
          $ref: '#/responses/default-error-response'

  /orders/{order-number}/confirm:
    post:
      summary: Confirm order that require confirmation
      tags:
        - Orders
      deprecated: false
      operationId: Orders_Confirm
      parameters:
        - description: Order number
          in: path
          name: order-number
          required: true
          type: string
      responses:
        '204':
          description: No content
        default:
          $ref: '#/responses/default-error-response'

  /orders/card-issuances:
    post:
      summary: Order additional card for authorized person
      description: Initiates issuance of additional card and returns order-number.
      tags:
        - Orders
      operationId: CardIssuances_Initiate
      parameters:
          -
            description: "Command with details of card issuance order"
            in: body
            name: cmd
            required: true
            schema:
              $ref: "#/definitions/initiate-card-issuance-command"
      responses:
        '202':
          $ref: '#/responses/resource-created-response'
        '440':
          description: |
            Your request was well constructed but it does not comply with business policy. Consider the following possible problems and look into response for more details:

            - [request-already-exists]()
            - [active-additional-card-already-exists]()
            - [owner-can-not-have-additional-card]()
          schema:
            $ref: '#/definitions/business-problem'
        default:
          $ref: '#/responses/default-error-response'


  /orders/card-blockades:
    post:
      summary: "Creates request for card blocking and automatically change card lifecycle status to suspended. Operation returns command-result with order id, validation errors if there are any, and current order status."
      tags:
        - Card blockades
      operationId: CardBlockades_Request
      parameters:
        -
          description: "Command contains parameters for card blocking"
          in: "body"
          name: "cmd"
          required: true
          schema:
              $ref: "#/definitions/initiate-card-blockade-command"
      responses:
        '202':
          $ref: '#/responses/resource-created-response'
          description: Request has been accepted for processing
        '440':
          description: |
            Your request was well constructed but it does not comply with business policy. Consider the following possible problems and look into response for more details:
            - [request-already-exists]()
          schema:
            $ref: '#/definitions/business-problem'
        default:
          $ref: '#/responses/default-error-response'

  /orders/card-deblockades:
    post:
      summary: "Creates request for card unblocking and automaticly change card lifecycle status to active. Operation returns command-result with order id, validation errors if there are any, and current order status."
      tags:
        - Card deblockades
      operationId: CardDeblockades_Request
      parameters:
        -
          description: "Command contains parameters for card debloking."
          in: "body"
          name: "cmd"
          required: true
          schema:
            $ref: "#/definitions/initiate-card-deblockade-command"
      responses:
        '202':
          $ref: '#/responses/resource-created-response'
          description: Request has been accepted for processing.
        '440':
          description: |
            Your request was well constructed but it does not comply with business policy. Consider the following possible problems and look into response for more details:
            - [request-already-exists]()
          schema:
            $ref: '#/definitions/business-problem'
        default:
          $ref: '#/responses/default-error-response'
  /orders/card-activations:
    post:
      summary: "Creates request for card activation and automatically change card lifecycle status to active. Operation returns command-result with order id, validation errors if there are any, and current order status."
      tags:
         - Card activations
      operationId: CardActivations_Request
      parameters:
        -
          description: "Command contains parameters for card activation"
          in: "body"
          name: "cmd"
          required: true
          schema:
             $ref: "#/definitions/request-card-activation-command"
      responses:
        '202':
          $ref: '#/responses/resource-created-response'
          description: Request has been accepted for processing
        '440':
          description: |
            Your request was well constructed but it does not comply with business policy. Consider the following possible problems and look into response for more details:
            - [request-already-exists]()
          schema:
            $ref: '#/definitions/business-problem'
        default:
          $ref: '#/responses/default-error-response'
  /orders/card-terminations:
    post:
      summary: "Creates request for card termination and automatically change card lifecycle status to terminated. Operation returns command-result with order id, validation errors if there are any, and current order status."
      tags:
          - Card terminations
      operationId: CardTerminations_Request
      parameters:
        -
          description: "Command contains parameters for card termination."
          in: "body"
          name: "cmd"
          required: true
          schema:
            $ref: "#/definitions/initiate-card-termination-command"
      responses:
        '202':
          $ref: '#/responses/resource-created-response'
          description: Request has been accepted for processing.
        '440':
          description: |
            Your request was well constructed but it does not comply with business policy. Consider the following possible problems and look into response for more details:
            - [request-already-exists]()
          schema:
            $ref: '#/definitions/business-problem'
        default:
          $ref: '#/responses/default-error-response'

  /orders/card-replacements:
    post:
       summary: "Creates request for card replacement and returns command-result with order id, validation errors if there are any, and current order status."
       tags:
          - Card replacements
       operationId: CardReplacements_Request
       parameters:
         -
           description: "Command contains parameters for card replacement, including card serial number and instruction how to deliver new card"
           in: "body"
           name: "cmd"
           required: true
           schema:
             $ref: "#/definitions/request-card-replacement-command"
       responses:
        '202':
          $ref: '#/responses/resource-created-response'
          description: Request has been accepted for processing.
        '440':
          description: |
            Your request was well constructed but it does not comply with business policy. Consider the following possible problems and look into response for more details:
            - [request-already-exists]()
          schema:
            $ref: '#/definitions/business-problem'
        default:
          $ref: '#/responses/default-error-response'

  /mandate-assignments:
    post:
        summary: Use this operation to initiate assignment of mandate.
        tags:
          - Mandate assignments
        deprecated: false
        operationId: MandateAssignments_Request
        parameters:
          - description: Command contains parameters for creating new mandate.
            in: body
            name: cmd
            required: true
            schema:
               $ref: '#/definitions/initiate-mandate-request-command'
        responses:
          '202':
            $ref: '#/responses/resource-created-response'
          '440':
            description: |
              Your request was well constructed but it does not comply with business policy. Consider the following possible problems and look into response for more details:
                 - [request-already-exists]()
            schema:
                $ref: '#/definitions/business-problem'
          default:
                $ref: '#/responses/default-error-response'
    get:
        summary: Use this operation to get list of mandate assigments.
        tags:
          - Mandate assignments
        deprecated: false
        operationId: MandateAssignments_GetList
        parameters:
          - description: Customer number of owner of mandate assigments.
            in: query
            name: customer-number
            required: false
            type: string
          - $ref: "#/parameters/page-param"
          - $ref: "#/parameters/page-size-param"
          - $ref: "#/parameters/sort-by-param"
          - $ref: "#/parameters/sort-order-param"
          - $ref: "#/parameters/include-param"
          - $ref: "#/parameters/trim-param"
        responses:
          '200':
            description: OK
            schema:
               $ref: '#/definitions/mandate-assigments-list'
          default:
               $ref: '#/responses/default-error-response'


  /standing-orders:
    get:
      summary: Gets customer standing orders.
      tags:
        - Standing orders
      deprecated: false
      operationId: StandingOrders_GetList
      parameters:
        - $ref: "#/parameters/page-param"
        - $ref: "#/parameters/page-size-param"
        - $ref: "#/parameters/sort-by-param"
        - $ref: "#/parameters/sort-order-param"
        - $ref: "#/parameters/include-param"
        - $ref: "#/parameters/trim-param"
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/standing-order-list'
        default:
          $ref: '#/responses/default-error-response'
    post:
      summary: Use this operation to create standing order.
      tags:
        - Standing orders
      deprecated: false
      operationId: StandingOrder_Create
      parameters:
        - description: Standing order initiation parameters.
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/initiate-standing-order-command'
      responses:
        '202':
          $ref: '#/responses/resource-created-response'
        '440':
            description: |
              Your request was well constructed but it does not comply with business policy. Consider the following possible problems and look into response for more details:
                - [request-already-exists]()
            schema:
                $ref: '#/definitions/business-problem'
        default:
                $ref: '#/responses/default-error-response'
  /standing-orders/{order-number}:
    get:
      summary: Gets standing order with detailed information.
      tags:
        - Standing orders
      deprecated: false
      operationId: StandingOrders_Get
      parameters:
        - in: path
          name: order-number
          required: true
          type: string
          description: Standing order number.
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/standing-order'
        default:
          $ref: '#/responses/default-error-response'
  /standing-orders/{order-number}/cancel:
    post:
        summary: Use this operation to cancel standing order.
        tags:
          - Standing orders
        deprecated: false
        operationId: StandingOrders_Cancel
        parameters:
          - in: path
            name: order-number
            required: true
            type: string
            description: Order number
        responses:
          '204':
            description: No content
            schema:
                $ref: '#/definitions/business-problem'
          default:
                $ref: '#/responses/default-error-response'
  /standing-orders/{order-number}/nickname:
    post:
      summary: Use this operation to change standing order nickname.
      tags:
        - Standing orders
      deprecated: false
      operationId: StandingOrders_UpdateNickname
      parameters:
        - in: path
          name: order-number
          required: true
          type: string
          description: Standing order number.
        - description: Request for change of standing order nick name
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/change-standing-order-nickname-command'
      responses:
        '202':
          $ref: '#/responses/resource-created-response'
        '440':
            description: |
              Your request was well constructed but it does not comply with business policy. Consider the following possible problems and look into response for more details:
                - [request-already-exists]()
            schema:
                $ref: '#/definitions/business-problem'
        default:
                $ref: '#/responses/default-error-response'
  /standing-orders/{order-number}/skip:
    post:
      summary: Skip standing order.
      tags:
        - Standing orders
      deprecated: false
      operationId: StandingOrders_Skip
      parameters:
        - in: path
          name: order-number
          required: true
          type: string
          description: Standing order number.
      responses:
        '202':
          $ref: '#/responses/resource-created-response'
        '440':
            description: |
              Your request was well constructed but it does not comply with business policy. Consider the following possible problems and look into response for more details:
                 - [request-already-exists]()
            schema:
                $ref: '#/definitions/business-problem'
        default:
                $ref: '#/responses/default-error-response'


  /orders/current-account-terminations:
    post:
      summary: Use this operation to initiate current account termination.
      tags:
        - Current account terminations
      deprecated: false
      operationId: CurrentAccountTerminations_Request
      parameters:
        - description: Command contains parameters for current account termination.
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/request-current-account-termination-command'
      responses:
        '202':
          $ref: '#/responses/resource-created-response'
        default:
          $ref: '#/responses/default-error-response'


  /orders/bundled-account-terminations:
    post:
      summary: Use this operation to initiate bundled account termination.
      tags:
        - Bundled account terminations
      deprecated: false
      operationId: BundledAccountTerminations_Request
      parameters:
        - description: Command contains parameters for bundled account termination.
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/request-bundled-account-termination-command'
      responses:
        '202':
          $ref: '#/responses/resource-created-response'
        default:
          $ref: '#/responses/default-error-response'
  /orders/deposit-account-terminations:
    post:
      summary: Use this operation to initiate deposit account termination.
      tags:
        - Deposit account terminations
      deprecated: false
      operationId: DepositAccountTerminations_Request
      parameters:
        - description: Command contains parameters for deposit account termination.
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/request-deposit-account-termination-command'
      responses:
        '202':
          $ref: '#/responses/resource-created-response'
        default:
          $ref: '#/responses/default-error-response'
  /orders/credit-facility-terminations:
    post:
      summary: Use this operation to initiate credit facility termination.
      tags:
        - Credit facility terminations
      deprecated: false
      operationId: CreditFacilityTerminations_Request
      parameters:
        - description: Command contains parameters for credit facility termination.
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/request-credit-facility-termination-command'
      responses:
        '202':
          $ref: '#/responses/resource-created-response'
        default:
          $ref: '#/responses/default-error-response'


  /orders/loan-terminations:
    post:
      summary: Use this operation to initiate premature loan termination.
      tags:
        - Loan terminations
      deprecated: false
      operationId: LoanTerminations_Request
      parameters:
        - description: Command contains parameters for loan termination.
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/request-loan-termination-command'
      responses:
        '202':
          $ref: '#/responses/resource-created-response'
        default:
          $ref: '#/responses/default-error-response'


  /orders/arrangement-amendments:
    post:
      summary: Use this operation to submit new amendment request.
      tags:
        - Arrangement amendments
      deprecated: false
      operationId: ArrangementAmendments_Request
      parameters:
        - description: Parameters for deposit arrangement amendment request initiation.
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/request-arrangement-amendment-command'
      responses:
        '202':
          $ref: '#/responses/resource-created-response'
        '440':
          description: |
            Your request was well constructed but it does not comply with business policy. Consider the following possible problems and look into response for more details:
              - [request-already-exists]()
          schema:
            $ref: '#/definitions/business-problem'
        default:
          $ref: '#/responses/default-error-response'

  /orders/deposit-payouts:
    post:
      summary: Use this operation to create deposit payout request.
      tags:
        - Deposit payouts
      deprecated: false
      operationId: DepositPayouts_Request
      parameters:
        - description: Parameters for deposit payout request initiation.
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/request-deposit-payout-command'
      responses:
        '202':
          $ref: '#/responses/resource-created-response'
        '440':
          description: |
            Your request was well constructed but it does not comply with business policy. Consider the following possible problems and look into response for more details:
            - [request-already-exists]()
          schema:
            $ref: '#/definitions/business-problem'
        default:
          $ref: '#/responses/default-error-response'

# CALCULATIONS
  /calculations/deposit-payout:
    get:
      summary: Calculate partial deposit payout
      tags:
        - Calculations
      operationId: CalculateDepositPayout
      parameters:
        - description: Parameters for calculating deposit payout
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/deposit-payout-calculation-request'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/deposit-payout-calculation'
        '400':
          description: |
            Your request was well not well constructed. Look into validation error in response for more details.
          schema:
            $ref: '#/definitions/validation-problem'
        default:
          $ref: '#/responses/default-error-response'

  /calculations/deposit-termination:
    get:
      summary: Calculate deposit termination amounts
      tags:
        - Calculations
      deprecated: false
      operationId: CalculateDepositTermination
      parameters:
        - description: Parameters for calculating deposit termination amounts
          in: body
          name: cmd
          required: true
          schema:
            $ref: '#/definitions/deposit-termination-calculation-request'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/deposit-termination-calculation'
        '400':
          description: |
            Your request was well not well constructed. Look into validation error in response for more details.
          schema:
            $ref: '#/definitions/validation-problem'
        default:
          $ref: '#/responses/default-error-response'

  /classifications:
    get:
      summary: Returns all classification schemas used in this API.
      operationId: "Classifications_GetList"
      responses:
        '200':
          description: Success
          schema:
            $ref: '#/definitions/classification-list'
        default:
          $ref: '#/responses/default-error-response'
      tags:
        - Classifications
      x-asee-tags: []
  /classifications/{schema-id}:
    get:
      summary: Returns the classification values for provided schema.
      operationId: Classifications_Get
      parameters:
        - $ref: '#/parameters/schema-id-param'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/classification'
        default:
          $ref: '#/responses/default-error-response'
      tags:
        - Classifications
      x-asee-tags: []
responses:
  resource-created-response:
    description: Request has been accepted for processing
    schema:
      $ref: '#/definitions/identifier'

  default-error-response:
    description: Besides specific status codes above, other standard http [status codes](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html) can be returned for each request. To learn more see general guidance on [error handling]().
parameters:
  order-number-param:
    description: Unique identifier for order workitem
    in: path
    name: order-number
    required: true
    type: string
  customer-number-param:
    description: Unique identifier of customer in bank's records
    in: query
    name: customer-number
    required: false
    type: string
  statuses-param:
    name: statuses
    description: |
      Application statuses to filter the result. If empty or not present applications having any status are returned
      For complete list of possible values see [order-statuses](order-classifications.html#order-statuses) enumeration.
    type: array
    collectionFormat: csv
    in: query
    items:
      type: string
      enum: [accepted, active, rejected, canceled, completed, expired]
      x-asee-enumeration: order-statuses
  kinds-param:
    name: kinds
    description: |
      Order kinds to filter the results. If empty or not present all kinds are returned
      For complete list of possible values see [order-kinds](order-classifications.html#order-kinds) enumeration.
    type: array
    collectionFormat: csv
    in: query
    items:
      type: string
      enum: [card-issuances]
      x-asee-enumeration: order-kinds
  schema-id-param:
    name: schema-id
    description: Identifier of classification schema
    in: path
    required: true
    type: string
  page-param:
    name: page
    in: query
    description: Page index. For more information see general guidance on [paging](common-getstarted.html#paging)
    type: integer
    default: 1
    x-asee-common: true
  page-size-param:
    name: page-size
    in: query
    description: Number of items on a page. For more information see general guidance on [paging](common-getstarted.html#paging)
    required: false
    type: integer
    default: 10
    x-asee-common: true
  sort-order-param:
    description: Sort order (`asc` or `desc`). Default is asc. For more information see general guidance on [sorting](common-getstarted.html#sorting)
    in: query
    name: sort-order
    type: string
    default: asc
    enum:
    - asc
    - desc
    x-asee-common: true
  sort-by-param:
    description: Attribute of the collection item to sort by. For more information see general guidance on [sorting](common-getstarted.html#sorting)
    in: query
    name: sort-by
    type: string
    x-asee-common: true
  include-param:
    description: List of fields to include in response. For more information see general guidance on [response shaping](common-getstarted.html#shaping)
    in: query
    name: include
    type: array
    items:
      type: string
    collectionFormat: csv
    x-asee-common: true
  trim-param:
    description: List of fields to trim from response. For more information see general guidance on [response shaping](common-getstarted.html#shaping)
    in: query
    name: trim
    type: array
    items:
      type: string
    collectionFormat: csv
    x-asee-common: true

definitions:

# REQUEST BASE
  customer-request-list:
    description: List of customer orders.
    properties:
      items:
        description: List of customer orders.
        items:
          $ref: '#/definitions/customer-request'
        type: array
    type: object
  customer-request:
    description: Customer order basic details.
    properties:
      customer-number:
        description: Customer number.
        type: string
      order-type:
        description: Order type.
        type: string
        x-asee-compliance: This should be related to enum.
      creation-date:
        description: Order posting date
        type: string
      status:
        description: Status of request. For complete list of possible values see [workitem-processing-status]() classification.
        type: string
      description:
        description: Order description.
        type: string
    type: object

# ORDER BASE
  order-list:
    description: List of self-care orders
    properties:
      items:
        items:
          $ref: "#/definitions/order"
        type: array
    example:
      items:
        -
           order-number: WI0000499335
           authorized-customer-number: MIGR00002
           authorized-customer-name: Mileva Grujic
           owner-customer-number: BRVU00002
           owner-customer-name: Branislav Vukovic
           arrangement-number: "0064200001930"
           product-code: MasterCard
           description:
           status: proposed
           customer-friendly-status: active
           creation-date: 2015-10-20T23:22:10
        -
           order-number: WI0000499748
           authorized-customer-number: MIGR00002
           authorized-customer-name: Mileva Grujic
           owner-customer-number: BRVU00002
           owner-customer-name: Branislav Vukovic
           arrangement-number: "0064200001930"
           product-code: MasterCard
           description:
           status: proposed
           customer-friendly-status: active
           creation-date: 2015-10-20T23:22:10
  order:
    description: Self-care order that instructs bank to act within existing arrangement terms. Contains information common to all kinds of self-care orders
    discriminator: kind
    required: [kind]
    properties:
      order-number:
        description: Unique identifier for order workitem
        type: string
        readOnly: true
      kind:
        description: |
          Enumeration that distinguishes different kinds of self-care orders
          For a list of possible values see [order-kinds](offer-classifications.html#application-kinds) enumeration.
        type: string
        enum: [card-issuance, current-account-opening, loan-origination]
        x-asee-enumeration: order-kinds
      status:
        description: |
          Status of order.
          For a list of possible values see [order-statuses](offer-classifications.html#order-statuses) enumeration.
        type: string
        enum: [accepted, active, rejected, canceled, completed, expired]
        x-asee-enumeration: order-statuses
        readOnly: true
      customer-number:
        description: Unique identifier of ordering customer
        type: string
      customer-name:
        description: Name of ordering customer
        type: string
      created:
        description: Date and time when order was recorded in the system
        format: date-time
        type: string
        readOnly: true
      expiration-date:
        description: Date and time when order expires
        format: date-time
        type: string
        readOnly: true
      status-changed:
        description: Date and time when order status changed
        format: date-time
        type: string
        readOnly: true
      last-modified:
        description: Date and time when order was last modified
        format: date-time
        type: string
        readOnly: true
      comments:
        description: Comments
        type: string
      account-arrangement-number:
        description: Unique identifier of arrangement that this order is related to
        type: string
      product-code:
        description: A code or short name by which a product can be identified
        type: string
      description:
         description: "Description."
         type: "string"
    example:
      order-number: WI0000499335
      authorized-customer-number: MIGR00002
      authorized-customer-name: Mileva Grujic
      customer-number: BRVU00002
      customer-name: Branislav Vukovic
      arrangement-number: "0064200001930"
      product-code: MasterCard
      description:
      status: proposed
      customer-friendly-status: active
      creation-date: 2015-10-20T23:22:10
  cancel-order-command:
    description:  Parameters for order cancelation
    properties:
      cancelation-reason:
        description: Customer's reason to cancel active application
        type: string
        x-asee-classification: cancelation-reasons
      kind:
        description: |
          Enumeration that distinguishes different kinds of self-care orders
          For complete list of possible values see [order-kinds](order-classifications.html#order-kinds) enumeration.
        type: string
        enum: [card-issuances]
        x-asee-enumeration: order-kinds
  attach-documents-command:
    description: Command with specification of attached documents
    properties:
      documents:
        type: array
        items:
          $ref: '#/definitions/attachment'
  attachment:
    description: Details of attachment
    properties:
      attachment-url:
        type: string
        format: url
        description: URL of document content in DMS
      attachment-id:
        type: string
        description: Unique identifier of document in DMS
      document-type:
        type: string
        x-asse-classification: document-types
        description: "Specific purpose of this document. For complete list of possible values see [document-types](order-classifications.html#document-types) classification."

# CARDS
  request-card-replacement-command:
      description: Contains parameters for request creation.
      properties:
        card-id:
          description: "Unique identifier of card which replacement is initiated."
          type: "string"
        embossement-line-1:
          description: "First line of embossed text on the card."
          type: "string"
        replacement-reason:
          description: "Replacement reason. For complete list of possible values see [card-replacement-reason]() classification."
          type: "string"
        description:
          description: "Additional description."
          type: "string"
      required:
        - "card-id"
        - "replacement-reason"
      type: "object"
  card-replacement:
      description: "Contains details of card replacement request."
      properties:
        order-number:
          description: "Order number."
          type: "string"
        serial-number:
          description: "Card serial number."
          type: "string"
        embossment-line-1:
          description: "First line of embossed text on the card."
          type: "string"
        replacement-reason:
          description: "Reason for card replacement."
          type: "string"
        description:
          description: "Description."
          type: "string"
        status:
          description: "Status of request. For complete list of possible values see [workitem-processing-status]() classification."
          type: "string"
        customer-friendly-status:
          description: "Customer friendly name for status of request. See classification: "
          type: "string"
          enum:
          - active
          - abandoned
          - expired
          - suspended
          - complete
          - rejected
        status-date:
          description: "Date of last status change."
          format: "date-time"
          type: "string"
        creation-date:
          description: "Creation date of request."
          format: "date-time"
          type: "string"
      type: "object"
      example:
          order-number: CSR-56000078430001
          serial-number: '9891770100056846'
          description: ''
          status: accepted
          customer-friendly-status: active
          status-date: '2015-06-17T00:00:00'
          creation-date: '2015-06-17T10:44:57.867'

  request-card-activation-command:
    description: Contains parameters for request creation.
    properties:
      card-id:
        description: "Unique identifier of card which activation is initiated."
        type: "string"
      description:
        description: "Additional description."
        type: "string"
    required:
       - "card-id"
    type: "object"


  initiate-card-termination-command:
      description: Contains parameters for request creation.
      properties:
        card-id:
          description: "Unique identifier of card which termination is initiated."
          type: "string"
        description:
          description: "Additional description."
          type: "string"
      required:
        - "card-id"
      type: "object"
  card-termination:
      description: "Contains details of card termination request."
      properties:
        order-number:
          description: "Order number."
          type: "string"
        serial-number:
          description: "Card serial number."
          type: "string"
        description:
          description: "Description."
          type: "string"
        status:
          description: "Status of request. For complete list of possible values see [workitem-processing-status]() classification."
          type: "string"
        customer-friendly-status:
          description: "Customer friendly name for status of request. See classification: "
          type: "string"
          enum:
          - active
          - abandoned
          - expired
          - suspended
          - complete
          - rejected
        status-date:
          description: "Date of last status change."
          format: "date-time"
          type: "string"
        creation-date:
          description: "Creation date of request."
          format: "date-time"
          type: "string"
      type: "object"
      example:
       order-number: CSR-56000078377001
       serial-number: '9891770100056846'
       description: ''
       status: accepted
       customer-friendly-status: active
       status-date: '2015-06-17T00:00:00'
       creation-date: '2015-06-17T10:44:57.867'

  initiate-card-deblockade-command:
    description: Contains parameters for request creation.
    properties:
      card-id:
        description: "Unique identifier of card which unblocking is initiated."
        type: "string"
      description:
        description: "Additional description."
        type: "string"
    required:
       - "card-id"
    type: "object"
  card-deblockade:
    description: "Contains details of card deblocking request."
    properties:
      order-number:
        description: "Order number."
        type: "string"
      serial-number:
        description: "Card serial number."
        type: "string"
      description:
        description: "Description."
        type: "string"
      status:
        description: "Status of request. For complete list of possible values see [workitem-processing-status]() classification."
        type: "string"
      customer-friendly-status:
        description: "Customer friendly name for status of request. See classification: "
        type: "string"
        enum:
          - active
          - abandoned
          - expired
          - suspended
          - complete
          - rejected
      status-date:
        description: "Date of last status change."
        format: "date-time"
        type: "string"
      creation-date:
        description: "Creation date of request."
        format: "date-time"
        type: "string"
    type: "object"
    example:
       order-number: CSR-56000078541001
       serial-number: '9891770100056846'
       description: ''
       status: accepted
       customer-friendly-status: active
       status-date: '2015-06-17T00:00:00'
       creation-date: '2015-06-17T10:44:57.867'

  card-blockade:
    description: "Contains details of card blocking request."
    properties:
      order-number:
        description: "Order number."
        type: "string"
      serial-number:
        description: "Card serial number."
        type: "string"
      description:
        description: "Description."
        type: "string"
      status:
        description: "Status of request. For complete list of possible values see [workitem-processing-status]() classification."
        type: "string"
      customer-friendly-status:
        description: "Customer friendly name for status of request. See classification: "
        type: "string"
        enum:
          - active
          - abandoned
          - expired
          - suspended
          - complete
          - rejected
      status-date:
        description: "Date of last status change."
        format: "date-time"
        type: "string"
      creation-date:
        description: "Creation date of request."
        format: "date-time"
        type: "string"
    type: "object"
    example:
       order-number: CSR-56000085677009
       serial-number: '9891770100056722'
       description: ''
       status: accepted
       customer-friendly-status: active
       status-date: '2015-06-17T00:00:00'
       creation-date: '2015-06-17T10:44:57.867'
  initiate-card-blockade-command:
      description: Contains parameters for request creation.
      properties:
        card-id:
          description: "Unique identifier of card blocking is initiated."
          type: "string"
        blockade-reason:
          description: "Card blockade reason. For a complete list of possible values see [card-blockade-reason]() classification."
          type: "string"
        description:
          description: "Additional description."
          type: "string"
      required:
        - "card-id"
        - "blockade-reason"
      type: "object"


  initiate-card-issuance-command:
    description: Contains parameters for request creation.
    properties:
      authorized-customer-number:
        description: "Identifier of customer who is being authorized for additional card."
        type: "string"
      account-number:
        description: "Identifies the arrangement to which new card will be linked."
        type: "string"
    required:
        - authorized-customer-number
        - account-number
    example:
      authorized-customer-number: MIGR00002
      arrangement-number: "0064200001930"
  card-issuance:
    allOf:
      - $ref: '#/definitions/order'
    description: Order of additional payment card
    properties:
      authorized:
        description: Customer number of authorized person who will be card holder
        type: string
      authorized-name:
        description: Name of authorized person who will be card holder
        type: string
      account-number:
        description: Unique identifier of account arrangement such as current account or credit facility
        type: string
      product-code:
        description: "Product code"
        type: string
    example:
      order-number: WI0000499335
      authorized-customer-number: MIGR00002
      authorized-customer-name: Mileva Grujic
      owner-customer-number: BRVU00002
      owner-customer-name: Branislav Vukovic
      arrangement-number: "0064200001930"
      product-code: MasterCard
      description:
      status: active
      created: 2015-10-20T23:22:10



# AMENDMENTS
  request-arrangement-amendment-command:
    description: Parameters for initiation of arrangement amendment request.
    properties:
      new-product-code:
        description: New product code.
        type: string
      arrangement-number:
        description: The arrangement number.
        type: string
      campaign-code:
        description: Campaign code if request is part of some campaign.
        type: string
    required:
      - new-product-code
      - arrangement-number
    type: object
  arrangement-amendment:
    properties:
      status:
        description: Order status.
        type: string
      order-number:
        description: Order number.
        type: string
      arrangement-number:
        description: Arrangement number.
        type: string
      customer-name:
        description: Customer name.
        type: string
      customer-number:
        description: Customer number.
        type: string
      object-owner-name:
        description: Request owner name
        type: string
        x-asee-compliance: Isn't this the customer-name? This property is redundant, should be removed.
      previous-product-name:
        description: Previous product name
        type: string
        x-asee-compliance: We probably also need previous-product-number property here too.
      product-number:
        description: Product number
        type: string
      product-name:
        description: Product name
        type: string
      managing-organization-unit-name:
        description: Managing organization unit name
        type: string
      effective-date:
        description: Effective date
        format: date-time
        type: string
      expiration-date:
        description: Expiration date
        format: date-time
        type: string
    type: object

# MANDATES
  initiate-mandate-request-command:
    description: Parameters for new mandates initiation.
    properties:
      initiator-customer-number:
        description: The initiator person customer number. Probably account owner.
        type: string
      items:
        description: List of mandates to create.
        items:
          $ref: '#/definitions/mandate'
        type: array
    required:
      - initiator-customer-number
    type: object
  mandate:
    description: Contains information about customer mandate.
    properties:
      arrangement-number:
        description: Arrangement number.
        type: string
      nickname:
        description: Mandate nickname, will be presented to customer as arrangement name.
        type: string
      customer-number:
        description: Customer number of authorised person.
        type: string
  mandate-assigments-list:
    description: Mandate assigments list.
    properties:
      total-count:
        description: Total count.
        format: int32
        type: integer
      page-size:
        description: Size of the page.
        format: int32
        type: integer
      page-number:
        description: Page number.
        format: int32
        type: integer
      total-pages:
        description: Total pages.
        format: int32
        type: integer
      items:
        description: List of mandate assigments
        items:
          $ref: '#/definitions/mandate-assigment'
        type: array
    example:
      total-count: 455
      page-size: 10
      page-number: 1
      total-pages: 46
      items:
      -
        order-number: "3"
        arrangement-number: "8"
        creation-time: 2016-02-01T01:25:00
        expiration-date: 2016-03-01T01:25:00
        customer-name: Marko Sindjelic
        customer-number: "2394823"
        initiator-name: Goran Markovic
        initiator-number: "2438234"
        object-owner-name: Stefan Nedeljkovic
        status: proposed
      -
        order-number: "4"
        arrangement-number: "6"
        creation-time: 2016-02-01T01:55:00
        expiration-date: 2016-04-01T01:35:00
        customer-name: Pavle Jovanovic
        customer-number: "2394823"
        initiator-name: Srdjan Ralic
        initiator-number: "2438234"
        object-owner-name: Ivan Stepanic
        status: approved

  mandate-assigment:
    description: Customer order basic details.
    properties:
      order-number:
        description: Order number.
        type: string
      arrangement-number:
        description: Arrangement number.
        type: string
      creation-time:
        format: date-time
        description: Creation time of mandate assigments
        type: string
      expiration-date:
        format: date-time
        description: Expiration date
        type: string
      customer-name:
        description: Customer name.
        type: string
      customer-number:
        description: Customer number.
        type: string
      initiator-name:
        description: Initiator name.
        type: string
      initiator-number:
        description: Initiator number.
        type: string
      object-owner-name:
        description: Arrangement owner name
        type: string
      status:
        description: Status of request. For complete list of possible values see [workitem-processing-status]() classification.
        type: string
    type: object
    example:
      order-number: "3"
      arrangement-number: "8"
      creation-time: 2016-02-01T01:25:00
      expiration-date: 2016-03-01T01:25:00
      customer-name: Marko Sindjelic
      customer-number: "2394823"
      initiator-name: Goran Markovic
      initiator-number: "2438234"
      object-owner-name: Stefan Nedeljkovic
      status: proposed

# TERMINATIONS
  request-current-account-termination-command:
    description: Parameters to initiate current account termination.
    properties:
      account-number:
        description: The number of account to be terminated.
        type: string
      domestic-currency-settlement-account-number:
        description: Settlement arrangement number for domestic currency.
        type: string
      foreign-currency-settlement-account-number:
        description: Settlement arrangement number for foreign currency.
        type: string
      convert-to-domestic-currency:
        description: Indicates if all foreign currency assets should be converted to domestic currency on settlement.
        type: boolean
      cash-payout:
        description: Indicates if account assets will be withdrawn by cash payout.
        type: boolean
      termination-reason:
        description: Reason for closing account.
        type: string
      swift-code:
        description: Swift code for settlement arrangement in foreign currency.
        type: string
    required:
      - account-number
      - cash-payout
      - termination-reason
    type: object
  request-bundled-account-termination-command:
    description: Parameters to initiate bundled account termination.
    properties:
      account-number:
        description: The number of account to be terminated.
        type: string
    required:
      - account-number
    type: object
  request-deposit-account-termination-command:
    description: Parameters to initiate deposit account termination.
    properties:
      account-number:
        description: The number of account to be terminated.
        type: string
    required:
      - account-number
    type: object
  request-credit-facility-termination-command:
    description: Parameters to initiate credit facility termination.
    properties:
      account-number:
        description: Account number.
        type: string
      redemption-reason:
        description: Redemption reason.
        type: string
      additional-info:
        description: Additional info for termination request.
        type: string
    required:
      - account-number
    type: object
  request-loan-termination-command:
    description: Parameters to initiate loan termination.
    properties:
      account-number:
        description: Account number.
        type: string
      redemption-reason:
        description: Redemption reason.
        type: string
      additional-info:
        description: Additional info for termination request.
        type: string
    required:
      - account-number
    type: object

  request-deposit-payout-command:
    description: Request for initiating deposit payout.
    properties:
      account:
        description: Number order which will be terminated.
        type: string
      currency:
        description: Currency.
        type: string
    required:
      - account
      - currency
    type: object

  account-termination-list:
    properties:
      total-count:
        description: Total count.
        format: int32
        type: integer
      page-size:
        description: Size of the page.
        format: int32
        type: integer
      page-number:
        description: Page number.
        format: int32
        type: integer
      total-pages:
        description: Total pages.
        format: int32
        type: integer
      items:
        description: List of account termination requests
        items:
          $ref: '#/definitions/account-termination'
        type: array
    type: object
  account-termination:
    properties:
      order-number:
        description: Order number of termination request.
        type: string
      kind:
        description: Account termination request kind.
        enum:
          - current-account
          - bundled-account
          - deposit-account
          - credit-facility
          - loan
        type: string
      status:
        description: Status of request. For complete list of possible values see [workitem-processing-status]() classification.
        type: string
      product-number:
        x-asee-compliance: Why is this property relevant to termination process? It is not needed and should be removed.
        description: A code or short name by which a product can be identified.
        type: string
      product-name:
        x-asee-compliance: Why is this property relevant to termination process? It is not needed and should be removed.
        description: The primary name assigned to the product.  This name is used in reports and documents referring to the product.
        type: string
      creation-date:
        description: Request creation date.
        format: date-time
        type: string
      expiration-date:
        description: Request expiration date.
        format: date-time
        type: string
      last-modification-date:
        description: Last modified date
        format: date-time
        type: string
      customer-name:
        description: Customer name of arrangement owner.
        type: string
      customer-number:
        description: Customer number of arrangement owner.
        type: string
      account-number:
        description: The number of account to terminate.
        type: string
      domestic-currency-settlement-account-number:
        description: Settlement account number for domestic currency.
        type: string
      foreign-currency-settlement-account-number:
        description: Settlement account number for foreign currency.
        type: string
      convert-to-domestic-currency:
        description: Indicates if all foreign currency assets should be converted to domestic currency on settlement.
        type: boolean
      cash-payout:
        description: Indicates if account assets will be withdrawn by cash payout.
        type: boolean
    type: object

# CALCULATIONS
  deposit-termination-calculation-request:
    description: Parameters for deposit termination calculation.
    properties:
      arrangement-number:
        description: Arrangement number.
        type: string
    required:
      - arrangement-number
    type: object
  deposit-termination-calculation:
    description: Deposit termination calculation.
    properties:
      calculation-items:
        description: List of calculated values for deposit assets on account.
        items:
          $ref: '#/definitions/deposit-termination-calculation-item'
        type: array
    type: object
  deposit-termination-calculation-item:
    description: Deposit termination calculation item.
    properties:
      total-amount:
        description: The total amount that will be witdrawn.
        format: double
        type: number
      amount:
        description: The amount for term period.
        format: double
        type: number
      currency-code:
        description: The currency number code.
        type: string
      currency:
        description: The currency.
        type: string
      settlement-account:
        description: The settlement account.
        type: string
      settlement-currency-code:
        description: The settlement currency code.
        type: string
      settlement-currency:
        description: The period of deposit.
        type: string
      total-interest:
        description: The total interest.
        format: double
        type: number
      total-tax:
        description: The total tax.
        format: double
        type: number
      total-fee:
        description: The total fee.
        format: double
        type: number
      total-fee-currency:
        description: The currency of total fee
        format: double
        type: number
      accrued-interest:
        description: The accrued interest
        format: double
        type: number
      adjusted-interest:
        description: The adjusted interest
        format: double
        type: number
      interest-to-reverse:
        description: The reverse interest.
        format: double
        type: number
      accrued-tax:
        description: The accrued tax.
        format: double
        type: number
      adjusted-tax:
        description: The adjusted tax.
        format: double
        type: number
      tax-to-reverse:
        description: The reverse tax.
        format: double
        type: number
    type: object
  deposit-payout-calculation-request:
    description: Deposit payout calculation command.
    properties:
      account:
        description: Account number which will be terminated.
        type: string
      currency-id:
        description: Currency.
        $ref: '#/definitions/currency'
    required:
      - account
      - currency-id
    type: object
  deposit-payout-calculation:
    description: Deposit payout calculation item.
    properties:
      total-amount:
        description: The total amount that will be witdrawn.
        format: double
        type: number
      amount:
        description: The amount for term period.
        format: double
        type: number
      currency-code:
        description: The currency number code.
        type: string
      currency:
        description: The currency.
        type: string
      settlement-account:
        description: The settlement account.
        type: string
      settlement-currency-code:
        description: The settlement currency code.
        type: string
      settlement-currency:
        description: The period of deposit.
        type: string
      total-interest:
        description: The total interest.
        format: double
        type: number
      total-tax:
        description: The total tax.
        format: double
        type: number
      total-fee:
        description: The total fee.
        format: double
        type: number
      total-fee-currency:
        description: The currency of total fee
        format: double
        type: number
      accrued-interest:
        description: The accrued interest
        format: double
        type: number
      adjusted-interest:
        description: The adjusted interest
        format: double
        type: number
      interest-to-reverse:
        description: The reverse interest.
        format: double
        type: number
      accrued-tax:
        description: The accrued tax.
        format: double
        type: number
      adjusted-tax:
        description: The adjusted tax.
        format: double
        type: number
      tax-to-reverse:
        description: The reverse tax.
        format: double
        type: number
    type: object

# STANDING ORDER
  initiate-standing-order-command:
    description: Parameters for standing order initiation.
    properties:
      nickname:
        description: Standing order (arrangement) nickname.
        type: string
      customer-number:
        description: Standing order owner customer number.
        type: string
      product-code:
        description: Product code. Unique identifier of product with default terms and settings.
        type: string
      transfer-details:
        description: Transfer details.
        $ref: '#/definitions/credit-transfer'
      period:
        description: Execution frequency for periodical standing order.
        type: string
        format: ISO 8601 duration
      payment-date:
        description: Payment date.
        format: date-time
        type: string
      start-date:
        description: Start date. This is standing order activation date.
        format: date-time
        type: string
      end-date:
        description: End date. This is standing order closing date.
        format: date-time
        type: string
      first-payment-date:
        description: First payment date.
        format: date-time
        type: string
    required:
      - nickname
      - product-code
      - transfer-details
      - start-date
      - end-date
    type: object
  standing-order-list:
    description: Standing order list.
    properties:
      total-count:
        description: Total count.
        format: int32
        type: integer
      page-size:
        description: Size of the page.
        format: int32
        type: integer
      page-number:
        description: Page number.
        format: int32
        type: integer
      total-pages:
        description: Total pages.
        format: int32
        type: integer
      items:
        description: List of standing orders
        items:
          $ref: '#/definitions/standing-order'
        type: array
    example:
      total-count: 455
      page-size: 10
      page-number: 1
      total-pages: 46
      items:
      -
        arrangement-number: "234234"
        nickname: Nickname
        customer-number: "4829734927905"
        customer-name: Marko Simeunovic
        transfer-details:
          creditor:
            name: Marko Nikolic
            address: Decanska br.34
            city: Beograd
            country-code: RS
          debtor:
            name: Jelena Markovic
            address: Resavska br.345
            city: Beograd
            country-code: RS
          creditor-account-number: "23742394230023"
          debtor-account-number: "56098546372642"
          payment-description: Payment description
          purpose-code: "94234"
          debtor-reference: DReference
          creditor-reference: CReference
          amount:
            amount: 200.00
            code: EUR
          value-date: 2016-02-01T01:25:00
          creditor-reference-model: CReference model
          debtor-reference-model: DReference model
          posted-date: 2016-01-01T01:25:00
          executed-date: 2016-03-01T01:25:00
          debit: false
        first-payment-date: 2016-02-01T01:25:00
        period: P20080915T155300
        next-payment-date: 2016-03-01T01:25:00
        start-date: 2016-01-01T01:25:00
        end-date: 2016-04-01T01:25:00
        lifecycle-status: status
      -
        arrangement-number: "5465465"
        nickname: Nickname
        customer-number: "534525454635657"
        customer-name: Milica Simeunovic
        transfer-details:
          creditor:
            name: Jana Ristic
            address: Petra Kocica br.34
            city: Beograd
            country-code: RS
          debtor:
            name: Dragana Jovic
            address: Prizrenska br.345
            city: Beograd
            country-code: RS
          creditor-account-number: "899834058038490"
          debtor-account-number: "12312359342834"
          payment-description: Payment description
          purpose-code: "5465465"
          debtor-reference: DReference
          creditor-reference: CReference
          amount:
            amount: 200.00
            code: EUR
          value-date: 2016-02-01T01:25:00
          creditor-reference-model: CReference model
          debtor-reference-model: DReference model
          posted-date: 2016-01-01T01:25:00
          executed-date: 2016-03-01T01:25:00
          debit: true
        first-payment-date: 2016-02-01T01:25:00
        period: P20080915T155300
        next-payment-date: 2016-03-01T01:25:00
        start-date: 2016-01-01T01:25:00
        end-date: 2016-04-01T01:25:00
        lifecycle-status: status


  standing-order:
    description: Standing order item.
    properties:
      arrangement-number:
        description: Arrangement number.
        type: string
      nickname:
        description: Standing order nickname.
        type: string
      customer-number:
        description: Standing order owner customer number.
        type: string
      customer-name:
        description: Standing order owner customer name.
        type: string
      transfer-details:
        description: Transfer details.
        $ref: '#/definitions/credit-transfer'
      first-payment-date:
        description: First payment date.
        format: date-time
        type: string
      period:
        description: Period between executions of periodical standing order
        type: string
        format: ISO 8601 duration
      next-payment-date:
        description: Next payment date.
        format: date-time
        type: string
      start-date:
        description: Start date. This is activation date.
        format: date-time
        type: string
      end-date:
        description: End date. This is standing order closing date.
        format: date-time
        type: string
      lifecycle-status:
        description: Standing order status.
        type: string
        x-asee-compliance: This should be related to some classification or enum.
    required:
      - nickname
      - transfer-details
      - start-date
      - end-date
    type: object
    example:
      arrangement-number: "234234"
      nickname: Nickname
      customer-number: "4829734927905"
      customer-name: Marko Simeunovic
      transfer-details:
        creditor:
          name: Marko Nikolic
          address: Decanska br.34
          city: Beograd
          country-code: RS
        debtor:
          name: Jelena Markovic
          address: Resavska br.345
          city: Beograd
          country-code: RS
        creditor-account-number: "23742394230023"
        debtor-account-number: "56098546372642"
        payment-description: Payment description
        purpose-code: "94234"
        debtor-reference: DReference
        creditor-reference: CReference
        amount:
          amount: 200.00
          code: EUR
        value-date: 2016-02-01T01:25:00
        creditor-reference-model: CReference model
        debtor-reference-model: DReference model
        posted-date: 2016-01-01T01:25:00
        executed-date: 2016-03-01T01:25:00
        debit: false
      first-payment-date: 2016-02-01T01:25:00
      period: P20080915T155300
      next-payment-date: 2016-03-01T01:25:00
      start-date: 2016-01-01T01:25:00
      end-date: 2016-04-01T01:25:00
      lifecycle-status: status

  change-standing-order-nickname-command:
    description: Request for changing standing order nickname.
    properties:
      nickname:
        description: Standing order (arrangement) nickname.
        type: string
    required:
      - nickname
    type: object

  credit-transfer:
    description: Credit transfer
    properties:
      creditor:
        description: Name and address of the creditor.
        $ref: '#/definitions/creditor'
      debtor:
        description: Name and address of the debtor.
        $ref: '#/definitions/debtor'
      creditor-account-number:
        description: Creditor account number.
        type: string
      debtor-account-number:
        description: Debtor account number.
        type: string
      payment-description:
        description: Payment description.
        type: string
      purpose-code:
        description: Purpose code.
        type: string
      debtor-reference:
        description: Debtor reference.
        type: string
      creditor-reference:
        description: Creditor reference.
        type: string
      amount:
        description: Currency amount.
        $ref: '#/definitions/currency'
      value-date:
        description: Value date.
        format: date-time
        type: string
      creditor-reference-model:
        description: Creditor reference model.(modul 97)
        type: string
      debtor-reference-model:
        description: Debtor reference model.
        type: string
      posted-date:
        description: Posted date.
        format: date-time
        type: string
      executed-date:
        description: Executed date.
        format: date-time
        type: string
      debit:
        description: Gets or sets a value indicating whether [debit].
        type: boolean
    type: object
  creditor:
    description: Name and address of the creditor.
    properties:
      name:
        description: Creditor name.
        type: string
      address:
        description: Creditor address.
        type: string
      city:
        description: Creditor city.
        type: string
      country-code:
        description: Creditor country code.
        type: string
    type: object
  debtor:
    description: Name and address of the debtor.
    properties:
      name:
        description: Debtor name.
        type: string
      address:
        description: Debtor address.
        type: string
      city:
        description: Debtor city.
        type: string
      country-code:
        description: Debtor country code.
        type: string
    type: object


# ****************************************************#
# MODELS COMMON WITH OTHER APIs                       #
# ****************************************************#
  currency:
    description: Currency amount and code
    type: object
    required:
      - amount
      - code
    example:
      amount: 200.00
      code: EUR
    properties:
      amount:
        description: Amount
        format: double
        type: number
      code:
        description: ISO 4217 3 letter currency code
        type: string
        minLength: 3
        maxLength: 3

  identifier:
    description: Unique identifier of newly created resource that can be used in future inquires and commands
    type: string
    example: CREATED

  validation-problem:
    type: array
    items:
      type: object
      properties:
        field:
          type: string
        errors:
          type: array
          items:
            type: object
            properties:
              error:
                type: string
              message:
                type: string
    example:
      -
        field: phone-number
        errors:
          -
            error: invalid-format
            message: Format for this field is invalid
          -
            error: max-length
            message: Content exceeds maximum alowed length
      -
        field: account-number
        errors:
          -
            error: check-digit-invalid
            message: Check digit is invalid for this field

  business-problem:
    description: Details on specific problem that prevented processing after successfull validation
    type: object
    properties:
      problem:
        description: Unique literal that identifies specific problem
        type: string
      message:
        description: Message explaining the situation and optionaly remedies
        type: string
      details:
        description: Optional details supplied for troubleshooting
        type: string
    example:
      problem: document-locked
      message: Document you are trying to access is locked by another user
      details: User john.doe has locked the document

  paged-list:
    description: List with support for paging
    properties:
      total-count:
        description: Total number of items in collection
        type: integer
      page-size:
        description: Size of the page
        type: integer
      page:
        description: Index of current page
        type: integer
      total-pages:
        description: Total number of pages of set size
        type: integer
      sort-order:
        description: Sort order (`asc` or `desc`). Default is asc
        type: string
        enum:
        - asc
        - desc
      sort-by:
        description: Attribute of the collection item to sort by
        type: string
  classification-value:
    type: object
    description: Classification value
    properties:
      literal:
        description: Literal that uniquely identifies classification value
        type: string
      code:
        description: Optional numerical code of classification value
        type: string
      description:
        description: Description of classification value
        type: string
      parent-literal:
        description: Optional literal of parent classification value if schema is hierarchical
        type: string
    example:
      literal: billing
      code: "2"
      description: Contact may be used to provide party with details of their liabilities to the bank

  classification-list:
    description: List of classification schemas
    type: object
    properties:
      items:
        description: List of classification schemas
        items:
          $ref: "#/definitions/classification-info"
        type: array
    example:
      -
        schema-id: filing-purpose
        name: Filing Purpose
        description: List of possible uses of document in business context. Commonly used filing purposes are document, customer-picture
      -
        schema-id: folder-purpose
        name: Folder Purpose
        description: List of possible uses of a folder in business context.

  classification-info:
    description: Basic information on classification schema
    properties:
      schema-id:
        type: string
        description: Unique literal that identifies the classification schema. Always in `lowercase-dash` convention.
      name:
        type: string
        description: User friendly name of classification
      description:
        type: string
        description: Description of a classification
    example:
      schema-id: filing-purpose
      name: Filing Purpose
      description: List of possible uses of document in business context. Commonly used filing purposes are document, customer-picture

  classification:
    type: object
    description: Classification schema details
    properties:
      schema-id:
        type: string
        description: Unique literal that identifies the classification schema. Always in `lowercase-dash` convention.
      name:
        type: string
        description: User friendly name of classification
      description:
        type: string
        description: Description of a classification
      values:
        description: List of allowed classification values
        type: array
        items:
          $ref: "#/definitions/classification-value"
    example:
      schema-id: contact-purpose
      name: Contact Purpose
      description: List of possible uses of contact in business context. Commonly used filing purposes are billing, marketing
      values:
        - literal: billing
          code: "1"
          description: Contact may be used to provide party with details of their liabilities to the bank
        - literal: marketing
          code: "2"
          description: Contact may be used to provide party with details of offers
        - literal: reporting
          code: "3"
          description: Contact may be used to provide party with reports on their account
